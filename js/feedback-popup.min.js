const feedback=document.querySelector(".button-feedback"),feedbackPopup=document.querySelector(".popup-overlay"),feedbackClose=feedbackPopup.querySelector(".button-close"),feedbackForm=feedbackPopup.querySelector(".popup-feedback-form"),nameUser=feedbackPopup.querySelector(".feedback-name-input"),emailUser=feedbackPopup.querySelector(".feedback-email-input"),textUser=feedbackPopup.querySelector(".field-textarea");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("nameUser")}catch(e){isStorageSupport=!1}feedback.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("popup-overlay-show"),storage?(nameUser.value=storage,emailUser.focus()):nameUser.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("popup-overlay-show"),feedbackPopup.classList.remove("popup-feedback-error")}),feedbackForm.addEventListener("submit",function(e){nameUser.value&&emailUser.value&&textUser.value?isStorageSupport&&localStorage.setItem("nameUser",nameUser.value):(e.preventDefault(),feedbackPopup.classList.remove("popup-feedback-error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("popup-feedback-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackPopup.classList.contains("popup-overlay-show")&&(e.preventDefault(),feedbackPopup.classList.remove("popup-overlay-show"),feedbackPopup.classList.remove("popup-feedback-error"))});
